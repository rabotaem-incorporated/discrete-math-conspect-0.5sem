\subsection{Выборки}

\begin{defn}
    Пусть $A = \{a_1, \ldots, a_n\}$ --- множество из $n$ элементов. Набор элементов $a_{i_1}, \ldots a_{i_r},~r \geq 1$ называется выборкой объема $r$ из $n$ элементов или $(n, r)$-выборкой.
\end{defn}

Выборки бывают:
\begin{itemize}
    \item упорядоченные(порядок элементов важен) и неупорядоченные(порядок элементов не важен);
    \item с повторениями и без повторений.
\end{itemize}

\subsubsection*{Правило суммы и правило произведения}

Типичная задача: число возможных выборок с определенными свойствами.

Полезны два правила:

\begin{itemize}
    \item Правило суммы: если объект $A$ может быть выбран $m$ способами, а другой объект $B$ --- другими $n$ способами, то выбор $A$ или $B$ можно осуществить $m + n$ способами.
    \item Правило произведения: если объект $A$ может быть выбран $m$ способами, и после каждого из таких выборов объект $B$ в свою очередь может быть выбран $n$ способами, то выбор пары $A$ и $B$ можно осуществить $mn$ способами.
\end{itemize}

\subsubsection*{Выборки $k$ элементов из $n$}

\begin{enumerate}
    \item Упорядоченная с повторениями: 
    \[ n^k \]
    
    \item Упорядоченная без повторений (размещения): 
    \[ A_n^k = \frac{n!}{(n - k)!} = n(n-1) \ldots (n - k + 1) \]
    
    \item Неупорядоченная без повторений (сочетания):
    \[ C_n^k = \frac{A_n^k}{k!} = \frac{n!}{k!(n - k)!} \]
    
    \item Неупорядоченная с повторениями (сочетания с повторениями):
    \[ \hat{C}_n^k = C_{n + k - 1}^k \]
    \begin{proof}
        Пусть $A = \{a_1, \ldots, a_n\}$. Неупорядоченная выборка с повторениями из $k$ элементов из $A$ задается вектором чисел $(x_1, \ldots, x_n)$, где $x_i$ --- число повторений $a_i$ и 
        \[ x_1 + \cdots + x_n = k \]
        
        То есть число таких выборок равно числу решений этого уравнения в целых неотрицательных числах.

        Закодируем решение бинарным вектором:

        \[ \underbrace{11 \cdots 1}_{x_1} 0 \underbrace{11 \cdots 1}_{x_2} 0 \cdots 0 \underbrace{11 \cdots 1}_{x_n} \]

        То есть получаем вектор длины $(n + k - 1)$, содержащий ровно $k$ единиц (и ровно $(n - 1)$ нулей).
    \end{proof}
\end{enumerate}

Как найти число решений уравнения 

\[ x_1 + \cdots + x_n = k \]

в целых положительных числах $(x_i > 0,~k \geq n)$?

Положим $y_i = x_i - 1$ и найдем число решений

\[ y_1 + \cdots + y_n = k - n \]

в целых неотрицательных числах $(y_i \geq 0)$:

$\hat{C}_n^{k-n} = C_{n + k - n - 1}^{k-n} = C_{k-1}^{n-1}$.